(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"+0Iw":function(module,exports,e){e("VwGs")},"0O9e":function(module,exports,e){},"2kNR":function(module,exports,e){},"3p+j":function(module,exports,e){},"6ldC":function(module,exports,e){e("Iugu")},"8sNs":function(module,exports,e){e("zF0X")},C7lc:function(module,exports,e){var t,r,n;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[exports],void 0===(n="function"==typeof(t=function(e){"use strict";function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,F=function(){};return{s:F,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _classPrivateFieldGet(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_classExtractFieldDescriptor(e,t,"get"))}function _classPrivateFieldSet(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,_classExtractFieldDescriptor(e,t,"set"),r),r}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.cancelable=cancelable,e.isCancelablePromise=isCancelablePromise,e.default=e.CancelablePromise=void 0;var t=new WeakMap,r=new WeakMap,n=function(){function CancelablePromiseInternal(e){var n=e.executor,o=void 0===n?function(){}:n,a=e.internals,s=void 0===a?{isCanceled:!1,onCancelList:[]}:a,i=e.promise,u=void 0===i?new Promise((function(e,t){return o(e,t,(function(e){s.onCancelList.push(e)}))})):i;_classCallCheck(this,CancelablePromiseInternal),t.set(this,{writable:!0,value:void 0}),r.set(this,{writable:!0,value:void 0}),this.cancel=this.cancel.bind(this),_classPrivateFieldSet(this,t,s),_classPrivateFieldSet(this,r,u||new Promise((function(e,t){return o(e,t,(function(e){s.onCancelList.push(e)}))})))}var e,n,o;return e=CancelablePromiseInternal,(n=[{key:"then",value:function(e,n){return makeCancelable(_classPrivateFieldGet(this,r).then(createCallback(e,_classPrivateFieldGet(this,t)),createCallback(n,_classPrivateFieldGet(this,t))),_classPrivateFieldGet(this,t))}},{key:"catch",value:function(e){return makeCancelable(_classPrivateFieldGet(this,r).catch(createCallback(e,_classPrivateFieldGet(this,t))),_classPrivateFieldGet(this,t))}},{key:"finally",value:function(e,n){var o=this;return n&&_classPrivateFieldGet(this,t).onCancelList.push(e),makeCancelable(_classPrivateFieldGet(this,r).finally(createCallback((function(){if(e)return n&&(_classPrivateFieldGet(o,t).onCancelList=_classPrivateFieldGet(o,t).onCancelList.filter((function(t){return t!==e}))),e()}),_classPrivateFieldGet(this,t))),_classPrivateFieldGet(this,t))}},{key:"cancel",value:function(){_classPrivateFieldGet(this,t).isCanceled=!0;var e=_classPrivateFieldGet(this,t).onCancelList;_classPrivateFieldGet(this,t).onCancelList=[];var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var o=r.value;if("function"==typeof o)try{o()}catch(e){console.error(e)}}}catch(e){n.e(e)}finally{n.f()}}},{key:"isCanceled",value:function(){return!0===_classPrivateFieldGet(this,t).isCanceled}}])&&_defineProperties(e.prototype,n),o&&_defineProperties(e,o),CancelablePromiseInternal}(),o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(CancelablePromise,e);var t=_createSuper(CancelablePromise);function CancelablePromise(e){return _classCallCheck(this,CancelablePromise),t.call(this,{executor:e})}return CancelablePromise}(n);e.CancelablePromise=o,_defineProperty(o,"all",(function(e){return makeAllCancelable(e,Promise.all(e))})),_defineProperty(o,"allSettled",(function(e){return makeAllCancelable(e,Promise.allSettled(e))})),_defineProperty(o,"race",(function(e){return makeAllCancelable(e,Promise.race(e))})),_defineProperty(o,"resolve",(function(e){return cancelable(Promise.resolve(e))})),_defineProperty(o,"reject",(function(e){return cancelable(Promise.reject(e))})),_defineProperty(o,"isCancelable",isCancelablePromise);var a=o;function cancelable(e){return makeCancelable(e,{isCanceled:!1,onCancelList:[]})}function isCancelablePromise(e){return e instanceof o||e instanceof n}function createCallback(e,t){if(e)return function(r){if(!t.isCanceled){var n=e(r);return isCancelablePromise(n)&&t.onCancelList.push(n.cancel),n}return r}}function makeCancelable(e,t){return new n({internals:t,promise:e})}function makeAllCancelable(e,t){var r={isCanceled:!1,onCancelList:[]};return r.onCancelList.push((function(){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;isCancelablePromise(n)&&n.cancel()}}catch(e){r.e(e)}finally{r.f()}})),new n({internals:r,promise:t})}e.default=a})?t.apply(exports,r):t)||(module.exports=n)},DEfs:function(module,e,t){"use strict";var r=t("nk72"),n=t("VbXa"),o=t.n(n),messages_GraderMessage=function(e,t){this.definition={},this.data={},this.id="",this.typeName=t.typeName,this.id=Math.floor(1e8*Math.random())+""},executorRunError_ExecutorRunError=function(e,t){this.typeName="",this.typeName=t.typeName},a=function(e){function FeedbackNotFoundError(t,r){return e.call(this,t,r)||this}return o()(FeedbackNotFoundError,e),FeedbackNotFoundError}(executorRunError_ExecutorRunError),s=function(e){function GraderExitFailureError(t,r){var n;return(n=e.call(this,t,r)||this).exitCode=0,n.exitCode=t.exitCode,n}return o()(GraderExitFailureError,e),GraderExitFailureError}(executorRunError_ExecutorRunError),i=function(e){function InfrastructureError(t,r){var n;return(n=e.call(this,t,r)||this).code="",n.description="",n.code=t.code,n.description=t.description,n}return o()(InfrastructureError,e),InfrastructureError}(executorRunError_ExecutorRunError),u=function(e){function MemoryExhaustionError(t,r){return e.call(this,t,r)||this}return o()(MemoryExhaustionError,e),MemoryExhaustionError}(executorRunError_ExecutorRunError),l=function(e){function OutputParseFailureError(t,r){return e.call(this,t,r)||this}return o()(OutputParseFailureError,e),OutputParseFailureError}(executorRunError_ExecutorRunError),c=function(e){function TimeoutError(t,r){return e.call(this,t,r)||this}return o()(TimeoutError,e),TimeoutError}(executorRunError_ExecutorRunError),d=function(e){function UnknownExecutorRunError(t,r){var n;return(n=e.call(this,t,r)||this).definition={},n.definition=t,n}return o()(UnknownExecutorRunError,e),UnknownExecutorRunError}(executorRunError_ExecutorRunError),m={GraderExitFailure:s,InfrastructureError:i,MemoryExhaustion:u,OutputParseFailure:l,Timeout:c,FeedbackNotFound:a},p=function(e){function ExecutorRunErrorMessage(t,n){var o;return(o=e.call(this,t,n)||this).error={code:"",description:"",exitCode:"",typeName:""},o.error=r.a.fromJson(t.executorRunError,m,d),o}return o()(ExecutorRunErrorMessage,e),ExecutorRunErrorMessage}(messages_GraderMessage),f=function(e){function GridTimeoutMessage(t,r){return e.call(this,t,r)||this}return o()(GridTimeoutMessage,e),GridTimeoutMessage}(messages_GraderMessage),g=function(e){function InvalidFractionalScoreMessage(t,r){var n;return(n=e.call(this,t,r)||this).invalidFractionalScore="",n.invalidFractionalScore=t.invalidFractionalScore,n}return o()(InvalidFractionalScoreMessage,e),InvalidFractionalScoreMessage}(messages_GraderMessage),h=function(e){function InvalidJsonFieldsMessage(t,r){return e.call(this,t,r)||this}return o()(InvalidJsonFieldsMessage,e),InvalidJsonFieldsMessage}(messages_GraderMessage),b=function(e){function JsonParseFailureMessage(t,r){var n;return(n=e.call(this,t,r)||this).message="",n.totalSize=0,n.message=t.message,n}return o()(JsonParseFailureMessage,e),JsonParseFailureMessage}(messages_GraderMessage),v=function(e){function MissingGraderRunMessage(t,r){return e.call(this,t,r)||this}return o()(MissingGraderRunMessage,e),MissingGraderRunMessage}(messages_GraderMessage),y=function(e){function OutputDownloadErrorMessage(t,r){var n;return(n=e.call(this,t,r)||this).message="",n.message=t.message,n}return o()(OutputDownloadErrorMessage,e),OutputDownloadErrorMessage}(messages_GraderMessage),E=function(e){function OutputTruncationMessage(t,r){var n;return(n=e.call(this,t,r)||this).totalSize=0,n.totalSize=t.totalSize,n}return o()(OutputTruncationMessage,e),OutputTruncationMessage}(messages_GraderMessage),S=function(e){function UnknownMessage(t,r){var n;return(n=e.call(this,t,r)||this).definition={},n.data={},n.definition=t,n.data=r,n}return o()(UnknownMessage,e),UnknownMessage}(messages_GraderMessage),I={executorRunError:p,gridTimeout:f,invalidFractionalScore:g,invalidJsonFields:h,jsonParseFailure:b,missingGraderRun:v,outputDownloadError:y,outputTruncation:E};e.a={fromJson:function(e){return r.a.fromJson(e,I,S)}}},DcEL:function(module,exports,e){},Iugu:function(module,exports,e){},Kfxi:function(module,e,t){"use strict";t.d(e,"a",(function(){return i})),t.d(e,"c",(function(){return useAttemptSummaryContext}));var r=t("q1tI"),n=t("Gcrz"),o=t("sQ/U"),a=t("OQgR"),s=t.n(a),AttemptSummaryQueryProvider=function(e){var t,a=e.courseId,i=e.itemId,u=e.userId,l=e.children,c={courseId:a,itemId:i,userId:u||(null===(t=o.a.get().id)||void 0===t?void 0:t.toString())};return r.createElement(n.c,{query:s.a,variables:c,context:{clientName:"gatewayGql"}},(function(e){var t,r=e.data,n=e.loading,o=e.refetch,a=e.error,s={attemptSummary:(null==r?void 0:null===(t=r.AttemptSummary)||void 0===t?void 0:t.queryAttemptSummary)||null,isAttemptSummaryLoading:n,attemptSummaryLoadError:a,refetchAttemptSummary:function(){return o().then((function(){}))}};return l(s)}))},i=r.createContext({attemptSummary:null,isAttemptSummaryLoading:!1,attemptSummaryLoadError:void 0,refetchAttemptSummary:function(){return Promise.resolve()}}),AttemptSummaryContextProvider=function(e){var t=e.attemptSummary,n=e.isAttemptSummaryLoading,o=e.attemptSummaryLoadError,a=e.refetchAttemptSummary,s=e.children,u={attemptSummary:t,isAttemptSummaryLoading:n,attemptSummaryLoadError:o,refetchAttemptSummary:a};return r.createElement(i.Provider,{value:u},s)},useAttemptSummaryContext=function(){return Object(r.useContext)(i)};e.b=function(e){var t=e.courseId,n=e.itemId,o=e.userId,a=e.children;return(r.createElement(AttemptSummaryQueryProvider,{courseId:t,itemId:n,userId:o},(function(e){return r.createElement(AttemptSummaryContextProvider,e,a)})))}},Kty6:function(module,exports,e){e("2kNR")},"O+1n":function(module,e,t){"use strict";var r=t("S+eF"),n=t.n(r),o=t("sQ/U"),a=t("k8gO"),s=t("welz"),i=t.n(s).a.Model.extend({});t.d(e,"a",(function(){return assignmentVerificationTest_fetchVerifiableId})),t.d(e,"b",(function(){return assignmentVerificationTest_verifyAssignment}));var assignmentVerificationTest_fetchVerifiableId=function(){var e=o.a.get().id;return n.a.resolve("".concat(Object(a.a)(),"~").concat(e))},assignmentVerificationTest_verifyAssignment=function(e,t){var r=o.a.get().id;return n.a.resolve(new i({isApprovedForVerificationState:!0,verifiableId:e.split("~")[0],nextVerificationState:"Success",id:e,userId:r,expiresAt:Date.now()+2592e6}))}},VNWQ:function(module,exports,e){e("0O9e")},VwGs:function(module,exports,e){},b4bQ:function(module,e,t){"use strict";var r=t("q1tI"),n=t("8Hdl"),o=t("VbXa"),a=t.n(o),s=t("17x9"),i=t.n(s),u=t("kvW3"),messages_Message=function(e){var t=e.message;return(r.createElement(n.a,{variant:"body1",component:"div"},t))},l=function(e){function PriviligedMessage(){return e.apply(this,arguments)||this}return a()(PriviligedMessage,e),PriviligedMessage.prototype.render=function(){var e=this.props,t=e.learnerMessage,n=e.instructorMessage;return e.showDebugTools?r.createElement(messages_Message,{message:n}):r.createElement(messages_Message,{message:t})},PriviligedMessage}(r.Component),c=t("BBzL"),d=t.n(c),m=function(e){function FeedbackNotFound(){return e.apply(this,arguments)||this}return a()(FeedbackNotFound,e),FeedbackNotFound.prototype.render=function(){var e=this.props.showDebugTools;return(r.createElement("div",{className:"rc-FeedbackNotFound"},r.createElement("h3",null,d()("Grader Error: Grader feedback not found")),r.createElement(l,{showDebugTools:e,learnerMessage:d()("\n            Visit the Discussion forum to see if your peers are experiencing or have found resolutions for similar errors. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.a,{message:d()('\n                Autograder failed to produce the feedback. Please fix the grader to produce valid json feedback in all cases, including when learner code throws exceptions and fails to compile. \n                More details on the expected grader format can be found <a href="https://github.com/coursera/programming-assignments-demo/tree/master/custom-graders" target="_blank">here.</a> \n              ')})})))},FeedbackNotFound}(r.Component);m.propTypes={showDebugTools:i.a.bool};var p=m,f=function(e){function GraderExitFailureError(){return e.apply(this,arguments)||this}return a()(GraderExitFailureError,e),GraderExitFailureError.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-GraderExitFailureError"},r.createElement("h3",null,d()("Grader Error: Grader terminated unexpectedly")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Please review the assignment instructions to check that you have submitted the correct filetype, format, and have not missed key assignment sections in your submission. \n\n            Please search the discussion forum to see if your peers have experienced and found resolutions for similar errors, or if course staff have provided prior guidance for these errors. If you are unable to resolve your error in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.b,{message:d()("\n                Grader terminated unexpectedly with the exit code {exitCode}. Please upgrade your graders to handle all submissions --  gracefully exiting and cleanly outputting valid feedback and scores.\n              "),exitCode:t.error.exitCode})})))},GraderExitFailureError}(r.Component),g=function(e){function InfrastructureError(){return e.apply(this,arguments)||this}return a()(InfrastructureError,e),InfrastructureError.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-InfrastructureError"},r.createElement("h3",null,d()("Platform Error: We're experiencing some technical difficulties")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Please try submitting again in 10 minutes. If the problem persists for 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.b,{message:d()("\n                Grader failed with :\n                Error code: {code}.\n                Description: {description}\n                If the problem persists  when running a sample solutions file and the learner's submission against your grader, and you believe the issue will not be resolved by changes in your autograder, please reach out to Coursera's support.\n              "),code:t.error.code,description:t.error.description})})))},InfrastructureError}(r.Component),h=function(e){function MemoryExhaustionError(){return e.apply(this,arguments)||this}return a()(MemoryExhaustionError,e),MemoryExhaustionError.prototype.render=function(){var e=this.props.showDebugTools;return(r.createElement("div",{className:"rc-MemoryExhaustionError"},r.createElement("h3",null,d()("Learner Error: Grader ran out of memory")),r.createElement(l,{showDebugTools:e,learnerMessage:d()("\n            Try submitting an optimized solution. If you think your solution is correct, please search the discussion forum to see if your peers have experienced and found resolutions for similar errors, or if course staff have provided prior guidance for these errors If the issue isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.a,{message:d()('\n                Please verify if the learner\'s submission is the correct solution by downloading\n                and reviewing their submission file. We recommend also submitting your solutions file\n                to the programming assignment, to ensure it runs within the memory limits allocated.\n                If the learner’s file is  a valid solution, try increasing the grader’s memory to help\n                with grading. More details can be found <a href="https://github.com/coursera/coursera_autograder" target="_blank">here.</a>\n              ')})})))},MemoryExhaustionError}(r.Component),b=function(e){function OutputParseFailureError(){return e.apply(this,arguments)||this}return a()(OutputParseFailureError,e),OutputParseFailureError.prototype.render=function(){var e=this.props.showDebugTools;return(r.createElement("div",{className:"rc-OutputParseFailureError"},r.createElement("h3",null,d()("Grader Error: Malformed feedback")),r.createElement(l,{showDebugTools:e,learnerMessage:d()("\n            Please search the discussion forum to see if your peers have\n            experienced and found resolutions for similar errors, or if \n            course staff have provided prior guidance for these errors. \n            If you are unable to resolve your error in 24 hours, please \n            reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.a,{message:d()('\n                Failed to parse grader\'s feedback as a valid JSON. \n                Please fix the grader to produce the correct json feedback\n                format in all cases, including when learner code throws exceptions\n                and fails to compile. More details on expected grader \n                format can be found <a href="https://github.com/coursera/programming-assignments-demo/tree/master/custom-graders" target="_blank">here.</a>\n              ')})})))},OutputParseFailureError}(r.Component),v=function(e){function TimeoutError(){return e.apply(this,arguments)||this}return a()(TimeoutError,e),TimeoutError.prototype.render=function(){var e=this.props.showDebugTools;return(r.createElement("div",{className:"rc-TimeoutError"},r.createElement("h3",null,d()("Learner Error: Grader timed out")),r.createElement(l,{showDebugTools:e,learnerMessage:d()("\n            Please try optimizing the efficiency of your solution and submit again. You can also visit the discussion forum to see if your peers have experienced and found resolutions for similar errors, or if course staff have provided prior guidance for these errors.. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.a,{message:d()('Please verify if the learner\'s submission is the correct solution by downloading and reviewing their submission file. We recommend also submitting your solutions file to the programming assignment, to ensure it runs within the memory and CPU allocated to your grader. If the learner’s file is a valid solution,I try increasing the grader’s memory and CPU to help with grading. More details can be found <a href="https://github.com/coursera/coursera_autograder" target="_blank">here.</a>')})})))},TimeoutError}(r.Component);v.propTypes={showDebugTools:i.a.bool};var y=v,E=function(e){function UnknownMessage(){return e.apply(this,arguments)||this}return a()(UnknownMessage,e),UnknownMessage.prototype.render=function(){var e=this.props.message;return(r.createElement("div",{className:"rc-UnknownMessage"},r.createElement(messages_Message,{title:d()("Unknown Error"),message:r.createElement(u.b,{message:d()("\n                An unknown error has occured: {error}. Please try submitting again. If the problem still persists,\n                please reach out to Coursera via our Help Center.\n              "),error:JSON.stringify(e.error||{})})})))},UnknownMessage}(r.Component),S={GraderExitFailure:f,InfrastructureError:g,MemoryExhaustion:h,OutputParseFailure:b,Timeout:y,FeedbackNotFound:p},I=function(e){function ExecutorRunErrorMessage(){return e.apply(this,arguments)||this}return a()(ExecutorRunErrorMessage,e),ExecutorRunErrorMessage.prototype.render=function(){var e,t=this.props,n=t.message,o=t.showDebugTools,a=S[null==n?void 0:null===(e=n.error)||void 0===e?void 0:e.typeName]||E;return r.createElement("div",{className:"rc-ExecutorRunErrorMessage"},r.createElement(a,{message:n,showDebugTools:o}))},ExecutorRunErrorMessage}(r.Component),w=function(e){function GridTimeoutMessage(){return e.apply(this,arguments)||this}return a()(GridTimeoutMessage,e),GridTimeoutMessage.prototype.render=function(){return r.createElement("div",{className:"rc-GridTimeoutMessage"},r.createElement("h3",null,d()("Platform Error: We're experiencing some technical difficulties")),r.createElement(l,{learnerMessage:d()("\n            Please try submitting again in 10 minutes. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center. \n          "),instructorMessage:d()("We have timed out waiting for the feedback from our grading platform. If the problem persists, please reach out to Coursera's support.")}))},GridTimeoutMessage}(r.Component),C=function(e){function InvalidFractionalScoreMessage(){return e.apply(this,arguments)||this}return a()(InvalidFractionalScoreMessage,e),InvalidFractionalScoreMessage.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-InvalidFractionalScoreMessage"},r.createElement("h3",null,d()("Grader Error: Malformed feedback")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Visit the Discussion forum to see if your peers have experienced and found resolutions for similar errors, or if course staff have provided prior guidance for these errors. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.b,{message:d()("\n                Invalid fractional score: {fractionalScore} \n                The fractional score delivered by your grader must be a value between 0.0 to 1.0. Please update the autograder so that the score delivered is always between 0.0 and 1.0.\n              "),fractionalScore:t.invalidFractionalScore})})))},InvalidFractionalScoreMessage}(r.Component),P=function(e){function InvalidJsonFieldsMessage(){return e.apply(this,arguments)||this}return a()(InvalidJsonFieldsMessage,e),InvalidJsonFieldsMessage.prototype.render=function(){var e=this.props.showDebugTools;return(r.createElement("div",{className:"rc-InvalidJsonFieldsMessage"},r.createElement(l,{showDebugTools:e,learnerMessage:d()("\n            Grader error: Malformed feedback. Please visit the Discussion forum to see if your peers are experiencing\n            similar errors. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help\n            Center.\n          "),instructorMessage:d()("\n            Please make sure that the fields within the grader's JSON output match Coursera’s specifications.\n          ")})))},InvalidJsonFieldsMessage}(r.Component),F=function(e){function JsonParseFailureMessage(){return e.apply(this,arguments)||this}return a()(JsonParseFailureMessage,e),JsonParseFailureMessage.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-JsonParseFailureMessage"},r.createElement("h3",null,d()("Grader Error: Malformed feedback")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Visit the Discussion forum to see if your peers have experienced and found resolutions for similar errors, or if course staff have provided prior guidance for these errors.\n            If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.a,{message:d()('\n                The following error occurred while parsing grader\'s stdout as JSON: {error}.\n                Please review your autograder to produce the correct json feedback.\n                More details on the expected grader format can be found <a href="https://github.com/coursera/programming-assignments-demo/tree/master/custom-graders" target="_blank">here.</a>\n              '),error:t.message})})))},JsonParseFailureMessage}(r.Component),k=function(e){function MissingGraderRunMessage(){return e.apply(this,arguments)||this}return a()(MissingGraderRunMessage,e),MissingGraderRunMessage.prototype.render=function(){return r.createElement("div",{className:"rc-MissingGraderRunMessage"},r.createElement("h3",null,d()("Platform Error: We're experiencing some technical difficulties")),r.createElement(l,{learnerMessage:d()("\n             Please try submitting again in 10 minutes. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:d()("\n              We have not received the grading update from our grading platform for this submission, but resubmitting may help resolve the issue. Please direct the student to resubmit again, and if the problem persists, please reach out to Coursera's support.\n          ")}))},MissingGraderRunMessage}(r.Component),O=function(e){function JsonParseFailureMessage(){return e.apply(this,arguments)||this}return a()(JsonParseFailureMessage,e),JsonParseFailureMessage.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-JsonParseFailureMessage"},r.createElement("h3",null,d()("Platform Error: We're experiencing some technical difficulties.")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Please try submitting again in 10 minutes. If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.b,{message:d()("\n                Internal error while downloading grader stdout: {error}. Please recommend that the learner tries re-submitting their work. If the problem still  persists, please reach out to Coursera's support.\n              "),error:t.message})})))},JsonParseFailureMessage}(r.Component),N=function(e){function OutputTruncationMessage(){return e.apply(this,arguments)||this}return a()(OutputTruncationMessage,e),OutputTruncationMessage.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools;return(r.createElement("div",{className:"rc-OutputTruncationMessage"},r.createElement("h3",null,d()("Grader Error: Grader feedback truncated")),r.createElement(l,{showDebugTools:n,learnerMessage:d()("\n            Grader feedback was truncated due to size limits. Visit the Discussion Forums to see if your peers are experiencing or have found resolutions for similar errors . If the error isn't resolved in 24 hours, please reach out to Coursera through our Help Center.\n          "),instructorMessage:r.createElement(u.b,{message:d()("\n                Initial grader feedback with size {totalSize} bytes was truncated. Please update the grader to output feedback which is under 63 KB.\n              "),totalSize:t.totalSize})})))},OutputTruncationMessage}(r.Component),M=function(e){function UnknownMessage(){return e.apply(this,arguments)||this}return a()(UnknownMessage,e),UnknownMessage.prototype.render=function(){var e=this.props.message;return(r.createElement("div",{className:"rc-UnknownMessage"},r.createElement(messages_Message,{title:d()("Unknown Error"),message:r.createElement(u.b,{message:d()("\n                An unknown error has occured: {error}. Please try submitting again. If the problem still persists,\n                please reach out to Coursera via our Help Center.\n              "),error:JSON.stringify(e.data||{})})})))},UnknownMessage}(r.Component),x=(t("8sNs"),{executorRunError:I,gridTimeout:w,invalidFractionalScore:C,invalidJsonFields:P,jsonParseFailure:F,missingGraderRun:k,outputDownloadError:O,outputTruncation:N}),T=function(e){function GraderMessage(){return e.apply(this,arguments)||this}return a()(GraderMessage,e),GraderMessage.prototype.render=function(){var e=this.props,t=e.message,n=e.showDebugTools,o=x[t.typeName]||M;return r.createElement("li",{className:"rc-GraderMessage"},r.createElement(o,{message:t,showDebugTools:n}))},GraderMessage}(r.Component);t("bGLC"),e.a=function(e){var t=e.messages,o=e.showDebugTools;return t&&0!==t.length?r.createElement(n.a,{className:"rc-GraderMessages alert alert-warning",component:"div"},r.createElement("ul",null,t.map((function(e){return r.createElement(T,{key:e.id,message:e,showDebugTools:o})})))):null}},bGLC:function(module,exports,e){e("DcEL")},bonk:function(module,exports,e){e("3p+j")},cfWR:function(module,e,t){"use strict";t.r(e);var r=t("J4zp"),n=t.n(r),o=t("q1tI"),a=t.n(o),s=t("C7lc"),i=t("8cuT"),u=t("3tO9"),l=t.n(u),c=t("VkAN"),d=t.n(c),m=t("AeFk"),p=t("cVIm"),f=t("sQ/U"),g=t("kgYC"),h=t("8Hdl"),b=t("ZJgU"),v=t("+Q+i"),y=t("kyt0");function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var E,S,I,basic_DecorativeImage=function(e){var t=e.src,r=e.width,n=e.height,o=e.className;return a.a.createElement("img",_extends({src:t,alt:""},{width:r,height:n,className:o},{role:"presentation"}))},w=t("rQpo"),C=t("TdzE"),P=t("K7Vu"),filesSubmissions_submit$0=function(e){var t=e.itemId,r=e.itemTypeName,n=e.courseId,o=e.courseSlug,a=e.versionId,s=e.verifiableId,i={gradedProgramming:"onDemandProgrammingGradedFilesSubmissions.v1",ungradedProgramming:"onDemandProgrammingUngradedFilesSubmissions.v1"}[r];if(!i)throw new Error("I do not know the name of the filesSubmissions resource for "+r);var u=new P.a({itemId:t,courseId:n,courseSlug:o}),c=l()({courseId:n,itemId:t,versionId:a},s?{verifiableId:s}:{});return u.create(i,c,{},!0)},filesWorkspaceParts_create$0=function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug,o=e.learnerId,a=(e.userId,e.partId),s=e.versionId,i=e.uploadedFilename,u=e.assemblyId,l=new P.a({itemId:t,courseId:r,courseSlug:n}),c={itemId:t,courseId:r,courseSlug:n,learnerId:o,partId:a,versionId:s,uploadedFilename:i,assemblyId:u};Object.keys(c).forEach((function(e){c[e]||delete c[e]}));return l.create("onDemandProgrammingFilesWorkspaceParts.v1",c,{},!1)},F=t("TSYQ"),k=t.n(F),O=t("VbXa"),N=t.n(O),M=t("F/us"),x=t.n(M),T=t("hbUA"),U=t("kWps"),j=t("/Cyi"),D=t("BBzL"),G=t.n(D),L=function(e){function SubmissionDateColumn(){return e.apply(this,arguments)||this}return N()(SubmissionDateColumn,e),SubmissionDateColumn.prototype.render=function(){var e=this.props,t=e.submission,r=e.showDebugTools,n=e.isExpanded,a=k()("submission-expander",{"cif-chevron-down":n,"cif-chevron-right":!n}),s=t.get("isEvaluationReady");return o.createElement("div",{className:"col col-datetime flex-1"},(s||r)&&o.createElement("i",{className:a,"aria-hidden":!0}),o.createElement(h.a,{variant:n?"h3bold":"h3semibold","aria-hidden":"true",component:"span"},o.createElement(j.a,{time:t.get("submittedAt")})),o.createElement("span",{className:"screenreader-only"},G()("Submitted at: #{timestamp}",{timestamp:U.a.getFormattedDeadline(t.get("submittedAt"))})))},SubmissionDateColumn}(o.Component),R=t("wC8J"),A=function(e){function SubmissionIsAutoSubmissionColumn(){return e.apply(this,arguments)||this}return N()(SubmissionIsAutoSubmissionColumn,e),SubmissionIsAutoSubmissionColumn.prototype.render=function(){var e=this.props.submission.get("isAutoSubmission");return o.createElement("div",{className:"col col-score align-left"},e?o.createElement(R.a,{variant:"status",priority:"secondary"},G()("Auto-submitted")):null,o.createElement("span",{className:"screenreader-only"},e?G()("Auto-submitted"):""))},SubmissionIsAutoSubmissionColumn}(o.Component),W=t("FYTn"),J=t("cAeq"),H=t("zaiP"),V=function(e){function SubmissionIsPassedColumn(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).cellClassNames="col col-passed align-horizontal-center",t.renderWithNoGrade=function(e){var r=e.hasTooltip;if(void 0!==r&&r){var n=G()("This assignment has cumulative grading enabled");return(o.createElement("div",{className:t.cellClassNames},o.createElement(J.c,{placement:"top",message:n},E||(E=o.createElement(h.a,{variant:"body1"},o.createElement("span",null,"--")))),o.createElement("span",{className:"screenreader-only"},G()("This assignment has cumulative grading enabled"))))}return(o.createElement(h.a,{variant:"body1",className:t.cellClassNames},S||(S=o.createElement("span",null,"--"))))},t.renderWithGrade=function(e){var r=e.isPassed,n=void 0!==r&&r;return(o.createElement(h.a,{variant:"body1",className:t.cellClassNames},o.createElement("span",{"aria-hidden":"true"},n?G()("Yes"):G()("No")),o.createElement("span",{className:"screenreader-only"},n?G()("Assignment passed"):G()("Assignment not passed"))))},t}return N()(SubmissionIsPassedColumn,e),SubmissionIsPassedColumn.prototype.render=function(){var e=this,t=this.props.submission,r=new W.a(t.pick("score","maxScore","passingFraction")).isPassed();return t.get("isEvaluationReady")?o.createElement(H.b,null,(function(t){var n=t.loading,o=t.item,a=o&&o.isCumulativeGraded&&!o.isPassRequiredForCourse;return n||!o?e.renderWithNoGrade({hasTooltip:!1}):a?e.renderWithNoGrade({hasTooltip:!0}):e.renderWithGrade({isPassed:r})})):null},SubmissionIsPassedColumn}(o.Component),z=t("SJ7i"),B=t("pVnL"),q=t.n(B),Y=t("fAYU"),K=t("eJRr"),Q=t("CsdX"),X=t("6qMG"),Z=K.StyleSheet.create({richFeedbackLinkContainer:{padding:"7px 10px"}}),ee=function(e){function GraderOutput(){return e.apply(this,arguments)||this}N()(GraderOutput,e);var t=GraderOutput.prototype;return t.renderOutput=function(){var e=this.props,t=e.output,r=e.graderFeedback,n=e.isLoadingFeedbacks,a=e.unableToLoadFeedbacks;return n?G()("Loading..."):a?G()("There was an error loading feedback. Please refresh the page and try again later."):r?o.createElement("div",q()({className:"border-a"},Object(Q.d)("border-a",Z.richFeedbackLinkContainer)),o.createElement(Y.a,{target:"_blank",rel:"noopener noreferrer",href:r.definition.feedbackFileUrl},o.createElement(X.a,{size:16,color:Q.b.primary,style:{marginRight:10}}),G()("View grader feedback"))):o.createElement("div",{className:"output"},t)},t.render=function(){return o.createElement("div",{className:"rc-GraderOutput"},o.createElement("div",{className:"screenreader-only"},G()("Grader output")),this.renderOutput())},GraderOutput}(o.Component),te=t("JJfJ"),re=t("fhzG"),ne=t.n(re),oe=t("17x9"),ae=t.n(oe),se=(t("bonk"),{});se.Tooltip=((I=function(e){function _class(){return e.apply(this,arguments)||this}return N()(_class,e),_class.prototype.render=function(){var e=k()("rc-Tooltip",this.props.className,{north:"n",south:"s"}[this.props.direction]);return o.createElement("div",{className:"rc-Tooltip-container"},o.createElement("div",{className:e},this.props.children))},_class}(o.Component)).propTypes={direction:ae.a.oneOf(["north","south"])},I),se.TooltipTargetMixin={propTypes:{tooltipTimeDelay:ae.a.number,direction:ae.a.oneOf(["north","south"])},getDefaultProps:function(){return{tooltipTimeDelay:500}},getInitialState:function(){return{showTooltip:!1}},tooltipTargetMouseOver:function(e){var t=this;this.timerId=setTimeout((function(){t.setState({showTooltip:!0})}),this.props.tooltipTimeDelay)},tooltipTargetMouseOut:function(e){this.timerId&&clearTimeout(this.timerId),this.setState({showTooltip:!1})}},se.TooltipTarget=ne()({displayName:"TooltipTarget",mixins:[se.TooltipTargetMixin],propTypes:{tooltip:ae.a.node},render:function(){return o.createElement("div",{className:"rc-TooltipTarget",onMouseOver:this.tooltipTargetMouseOver,onMouseOut:this.tooltipTargetMouseOut},this.props.children,this.state.showTooltip?this.props.tooltip:"")}});var ie,ue,le,ce=se.Tooltip,de=se.TooltipTargetMixin,me=(se.TooltipTarget,ne()({displayName:"GradingFailedLabel",mixins:[de],render:function(){var e=this.state.showTooltip;return(o.createElement("span",{className:"bt3-text bt3-text-danger rc-GradingFailedLabel",onMouseOver:this.tooltipTargetMouseOver,onFocus:this.tooltipTargetMouseOver,onMouseOut:this.tooltipTargetMouseOut,onBlur:this.tooltipTargetMouseOut},G()("Grading failed")," ","  ",ie||(ie=o.createElement("i",{className:"cif-question-circle"})),e&&o.createElement(ce,{direction:"north"},G()("Please try again after some time while we look at resolving this issue!"))))}})),pe=t("IDuc"),fe=function(e){function PartActions(){return e.apply(this,arguments)||this}return N()(PartActions,e),PartActions.prototype.render=function(){var e=this.props,t=e.part,r=e.onToggle,n=e.isExpanded,a=e.submissionTitle,s=e.submissionTime,i=new W.a(t.pick("score","maxScore","passingFraction")),u="number"==typeof i.get("score")?i.get("score"):"—",l=i.get("maxScore"),c=n?G()("Hide grader output"):G()("Show grader output"),d="".concat(c,", ").concat(a,", ").concat(s);return t.get("isSubmitted")?o.createElement("div",{className:"rc-PartActions"},o.createElement(pe.a,{type:"button",className:"button-link",onClick:r,"aria-label":d,trackingName:n?"click_hide_grader_output":"click_show_grader_output",data:{grade:"".concat(u,"/").concat(l)}},c)):null},PartActions}(o.Component),ge=function(e){function PartActionsColumn(){return e.apply(this,arguments)||this}return N()(PartActionsColumn,e),PartActionsColumn.prototype.render=function(){var e=this.props,t=e.submission,r=e.part,n=e.isExpanded,a=e.onToggle,s=r.get("title"),i=Object(te.w)(t.get("submittedAt"),te.c);return t.get("isEvaluationReady")?o.createElement("div",{className:"col col-actions align-horizontal-center"},"failed"===r.get("gradingProgress")?ue||(ue=o.createElement(me,null)):o.createElement(fe,{part:r,isExpanded:n,onToggle:a,submissionTime:i,submissionTitle:s})):null},PartActionsColumn}(o.Component),he=t("kvW3"),be=t("++Ya"),ve=t("vXr1"),grade_history_DownloadLinks=function(e){var t=e.userId,r=e.branchId,n=e.courseId,a=e.itemId,s=e.submissionId,i=e.partId,u=e.isGridV2,l=be.a.tupleToStringKey([t,r||n||"",a,s,i]),c="/api/onDemandProgrammingDebugPartsController.v1/".concat(l),d="".concat(c,"/gridLogFile"),m="".concat(d,"/stdout.txt"),p="".concat(d,"/stderr.txt"),g="".concat(d,"/wrapper.txt"),b="".concat(d,"/feedback.json"),v="".concat(d,"/logs.txt"),y=Object(ve.f)().isActive("/learn/");return o.createElement(h.a,{variant:"body1",className:"rc-DownloadLinks",component:"div"},u&&y&&o.createElement("div",{className:"m-t-1"},G()("For Admin purposes. Not visible to learners.")),o.createElement("ul",null,o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:c,target:"_blank",rel:"noopener noreferrer"},G()("Download submission"))),!u&&o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:m,target:"_blank",rel:"noopener noreferrer"},"stdout")),!u&&o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:p,target:"_blank",rel:"noopener noreferrer"},"stderr")),!u&&f.a.isSuperuser()&&o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:g,target:"_blank",rel:"noopener noreferrer"},"wrapper")),u&&o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:b,target:"_blank",rel:"noopener noreferrer"},G()("Feedback"))),u&&o.createElement("li",null,o.createElement(Y.a,{className:"part-download-link",href:v,target:"_blank",rel:"noopener noreferrer"},G()("Logs")))))},ye=function(e){function PartNameColumn(){return e.apply(this,arguments)||this}return N()(PartNameColumn,e),PartNameColumn.prototype.render=function(){var e=this.props,t=e.part,r=e.showDebugTools,n=e.debugInfo,a=e.isLoadingStatuses,s=e.status,i=be.a.stringKeyToTuple(n.submissionIdTuple),u=t.get("title");return o.createElement("div",{className:"col col-name flex-1"},o.createElement(h.a,{variant:"h3semibold","aria-hidden":"true","data-e2e":"part-name-title"},u),o.createElement("div",{className:"screenreader-only"},G()("Filename: #{title}",{title:u})),r&&o.createElement("div",{className:"caption-text"},a?o.createElement(h.a,{variant:"body1",component:"span"},G()("Loading debug information...")):o.createElement("div",null,s&&o.createElement(h.a,{variant:"body1"},o.createElement(he.b,{message:G()("Executor Run ID: {executorRunId}"),executorRunId:s.executorRunId})),o.createElement(grade_history_DownloadLinks,{userId:n.userId,branchId:n.branchId,courseId:i[0],itemId:i[1],submissionId:i[2],partId:t.get("partId"),isGridV2:!!t.get("isGridV2")}))))},PartNameColumn}(o.Component),Ee=function(e){function PartScoreColumn(){return e.apply(this,arguments)||this}return N()(PartScoreColumn,e),PartScoreColumn.prototype.render=function(){var e=this.props,t=e.part,r=e.submission,n=new W.a(t.pick("score","maxScore","passingFraction")),a="number"==typeof n.get("score")?n.get("score"):"—",s=n.get("maxScore");return r.get("isEvaluationReady")?o.createElement("div",{className:"col col-score align-right"},o.createElement("span",{"aria-hidden":"true"},a,"/",s),o.createElement("span",{className:"screenreader-only"},G()("Score: #{score} of #{maxScore}",{score:a,maxScore:s}))):null},PartScoreColumn}(o.Component),Se=t("b4bQ"),SubmissionPartRow_styles_partRow=function(e){return Object(m.c)(le||(le=d()(["\n    /* !important was necessary to override the styles from .rc-SubmissionPartRow. */\n    color: "," !important;\n  "])),e.palette.black[500])},Ie=function(e){function SubmissionPartRow(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isExpanded:!1},t.toggle=function(e){e.preventDefault(),e.stopPropagation();var r=!t.state.isExpanded;t.setState({isExpanded:r})},t}return N()(SubmissionPartRow,e),SubmissionPartRow.prototype.render=function(){var e=this.props,t=e.part,r=e.submission,n=e.showDebugTools,o=e.status,a=e.debugInfo,s=e.isLoadingFeedbacks,i=e.isLoadingStatuses,u=e.unableToLoadFeedbacks,l=e.feedback,c=e.graderFeedback,d=e.graderMessages,p=e.computedItem,f=e.theme,g=this.state.isExpanded;return Object(m.d)("div",{className:"rc-SubmissionPartRow",css:SubmissionPartRow_styles_partRow(f)},Object(m.d)("div",{className:"parts-cols"},Object(m.d)(ye,{part:t,showDebugTools:n,debugInfo:a,isLoadingStatuses:i,status:o}),p&&Object(T.E)(p)?Object(m.d)(Ee,{part:t,submission:r}):"",Object(m.d)(ge,{part:t,submission:r,isExpanded:g,onToggle:this.toggle})),Object(m.d)(Se.a,{messages:d,showDebugTools:n}),g&&Object(m.d)(ee,{output:l,graderFeedback:c,isLoadingFeedbacks:s,unableToLoadFeedbacks:u}))},SubmissionPartRow}(o.Component),we=Object(z.a)(Ie),Ce=function(e){function SubmissionScoreColumn(){return e.apply(this,arguments)||this}return N()(SubmissionScoreColumn,e),SubmissionScoreColumn.prototype.render=function(){var e=this.props.submission,t="number"==typeof e.get("score")?e.get("score"):"-",r=e.get("maxScore");return e.get("isEvaluationReady")?o.createElement("div",{className:"col col-score align-right"},o.createElement(h.a,{variant:"body1","aria-hidden":"true"},t,"/",r),o.createElement("span",{className:"screenreader-only"},G()("Score: #{score} of #{maxScore}",{score:t,maxScore:r}))):null},SubmissionScoreColumn}(o.Component),Pe=t("S+eF"),Fe=t.n(Pe),ke=t("uJqh"),api_gradingStatuses_get=function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug,o=e.submissionId;return new P.a({itemId:t,courseId:r,courseSlug:n}).get("onDemandProgrammingSubmissionGradingStatuses.v1",o,{fields:["typeName","definition"]})},Oe=t("welz"),Ne=t.n(Oe),Me=Ne.a.Model.extend({defaults:{typeName:null,definition:null},getPartForId:function(e){var t=this.get("definition");if(!t)return null;var r=t.parts[e];return r&&r.definition}}),promises_gradingStatuses=function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug,o=e.submissionId;return f.a.isAuthenticatedUser()?Fe()(function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug,o=e.submissionId;return api_gradingStatuses_get({itemId:t,courseId:r,courseSlug:n,submissionId:o})}({itemId:t,courseId:r,courseSlug:n,submissionId:o})).then(ke.a).then((function(e){return e.elements[0]})).then((function(e){return new Me(e)})):Fe()({})},xe=t("DEfs"),Te=function(e){function SubmissionRow(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={feedbacks:{},isExpanded:!1,isLoadingStatuses:!1,isLoadingFeedbacks:!1,areStatusesLoaded:!1,areFeedbacksLoaded:!1,unableToLoadFeedbacks:!1,gradingStatuses:null},t.onGradingStatusesSuccess=function(e){t.setState({isLoadingStatuses:!1,areStatusesLoaded:!0,gradingStatuses:e})},t.onGradingStatusesError=function(e){t.setState({isLoadingStatuses:!1,areStatusesLoaded:!1})},t.onLoadFeedbacksSuccess=function(e){if(e){var r={};x()(e.definition.parts).each((function(e,t){var n=e.definition,o=n.graderMessages,a=n.graderFeedback;r[t]={feedback:e.feedback,graderMessages:o&&o.map((function(e){return xe.a.fromJson(e)})),graderFeedback:a}})),t.setState({isLoadingFeedbacks:!1,areFeedbacksLoaded:!0,feedbacks:r})}else t.onLoadFeedbacksError()},t.onLoadFeedbacksError=function(){t.setState({isLoadingFeedbacks:!1,areFeedbacksLoaded:!1,unableToLoadFeedbacks:!0})},t.expandWhenLoaded=!0,t.toggle=function(e){if(t.props.submission.get("isEvaluationReady")){e&&e.preventDefault();var r=!t.state.isExpanded;r&&t.loadExtraData(),t.setState({isExpanded:r})}else t.expandWhenLoaded=!0},t.renderSubmissionRow=function(e,r,n,a,s){var i=!s||Object(T.E)(s);return(o.createElement("div",{className:"cols"},o.createElement("button",{type:"button",className:"nostyle flex-1",onClick:function(r){return(e||a)&&t.toggle(r)},"aria-expanded":r},o.createElement(L,{submission:n,showDebugTools:a,isExpanded:r})),o.createElement(A,{submission:n}),i&&o.createElement(Ce,{submission:n}),i&&o.createElement(V,{submission:n})))},t}N()(SubmissionRow,e);var t=SubmissionRow.prototype;return t.componentDidMount=function(){this.props.startsExpanded&&this.toggle()},t.componentWillUpdate=function(e,t){this.expandWhenLoaded&&!t.isExpanded&&e.submission.get("isEvaluationReady")&&(this.expandWhenLoaded=!1,this.toggle())},t.loadExtraData=function(){this.loadStatuses(),this.loadFeedbacks()},t.loadStatuses=function(){var e=this.props,t=e.submission,r=e.itemId,n=e.courseId,o=e.courseSlug,a=e.showDebugTools,s=this.state,i=s.isLoadingStatuses,u=s.areStatusesLoaded,l=t.get("id");!a||u||i||(this.setState({isLoadingStatuses:!0}),promises_gradingStatuses({itemId:r,courseId:n,courseSlug:o,submissionId:l}).then(this.onGradingStatusesSuccess,this.onGradingStatusesError))},t.loadFeedbacks=function(){var e=this.props,t=e.submission,r=e.itemId,n=e.courseId,o=e.courseSlug,a=this.state,s=a.isLoadingFeedbacks;a.areFeedbacksLoaded||s||(this.setState({isLoadingFeedbacks:!0}),t.loadFeedbacks({itemId:r,courseId:n,courseSlug:o}).then(this.onLoadFeedbacksSuccess,this.onLoadFeedbacksError).done())},t.render=function(){var e=this.props,t=e.submission,r=e.showDebugTools,n=e.debugInfo,a=e.computedItem,s=this.state,i=s.isExpanded,u=s.gradingStatuses,c=s.feedbacks,d=s.isLoadingStatuses,m=s.isLoadingFeedbacks,p=s.unableToLoadFeedbacks,f=G()("Submission: #{timestamp}",{timestamp:U.a.getFormattedDeadline(t.get("submittedAt"))}),g=t.get("isEvaluationReady"),b=k()("rc-SubmissionRow",{"in-progress":!g}),v=t.get("partEvaluations").toArray().sort((function(e,t){return e.get("order")-t.get("order")}));return o.createElement("div",{className:b},o.createElement("div",{className:"inner",role:"group","aria-label":f},this.renderSubmissionRow(g,i,t,r,a),(g||r)&&i&&o.createElement("div",{className:"parts"},"failed"===t.get("gradingStatus")&&o.createElement(h.a,{variant:"body1",className:"grading-failed-alert alert alert-warning"},G()("\n                    There was an error grading one or more parts of your submission. Please review the messages\n                    below for suggestions.\n                  ")),v.map((function(e){var s=c&&c[e.get("partId")];return(o.createElement(we,{key:e.get("order"),submission:t,part:e,feedback:null==s?void 0:s.feedback,graderMessages:null==s?void 0:s.graderMessages,graderFeedback:null==s?void 0:s.graderFeedback,showDebugTools:r,debugInfo:l()(l()({},n),{},{submissionIdTuple:t.get("id")}),computedItem:a,isLoadingStatuses:d,isLoadingFeedbacks:m,unableToLoadFeedbacks:p,status:u&&u.getPartForId(e.get("partId"))}))})))))},SubmissionRow}(o.Component),Ue=(t("+0Iw"),function(e){var t=e.title,r=e.className,n=e.id;return(o.createElement("div",{id:n,className:k()("header",r)},o.createElement(h.a,{variant:"h3bold"},t)))}),components_GradeHistory=function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug,a=e.submissions,s=e.showDebugTools,i=e.debugInfo,u=e.computedItem;return a?o.createElement("div",{className:"rc-GradeHistory"},o.createElement("div",{className:"submissions"},o.createElement("div",{className:"headers","aria-hidden":"true"},o.createElement(Ue,{className:"col col-datetime flex-1",title:G()("Date"),id:"grade-history-date-header"}),o.createElement(Ue,{className:"col col-score align-right",title:G()("Score"),id:"grade-history-score-header"}),o.createElement(Ue,{className:"col col-passed align-horizontal-center",title:G()("Passed"),id:"grade-history-passed-header"})),a.map((function(e,a){return o.createElement(Te,{key:e.get("id"),itemId:t,courseId:r,courseSlug:n,submission:e,startsExpanded:0===a,showDebugTools:s,debugInfo:i,computedItem:u})})))):o.createElement("div",null,G()("Loading"),"...")},je=t("aFpJ"),De=t("O+1n"),Ge=t("+2ZD"),Le=t("i8i4"),_e=t.n(Le),Re=t("15pW"),Ae=t("E+oP"),We=t.n(Ae),Je=t("mNz5"),He=t.n(Je),Ve=t("BdXV"),ze=t("BbiL"),Be={transloaditKey:"05912e90e83346abb96c261bf458b615",peerReviewTransloaditTemplateId:"5daef0a0169d11e49fb59d7fc80efd48"},qe=Be,Ye=t("VtaG"),Ke=t.n(Ye),Qe={button:function(e){return Object(m.c)({marginTop:e.spacing(12),padding:e.spacing(8,16),fontSize:"14px",fontFamily:"Source Sans Pro,Arial,sans-serif",fontWeight:"700",borderRadius:e.spacing(4),textTransform:"none",textAlign:"center",maxWidth:"320px",minWidth:"unset",transition:"none",color:e.palette.white,borderColor:e.palette.blue[600],backgroundColor:e.palette.blue[600],boxShadow:"inset 0 0 0 1px ".concat(e.palette.blue[600]),"&:hover":{borderColor:e.palette.blue[700],backgroundColor:e.palette.blue[700],color:e.palette.white},"&:active":{borderColor:e.palette.purple[800],backgroundColor:e.palette.purple[800],"&.disableElevation":{"&::after":{content:"unset"}}},"&.disabled":{color:e.palette.gray[300],background:e.palette.gray[400],boxShadow:"none",cursor:"not-allowed"}})},input:Object(m.c)({position:"absolute",left:"-100000px",width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",zIndex:"-1","&:hover":{cursor:"pointer"}}),progressBar:function(e){return Object(m.c)({backgroundColor:e.palette.blue[700]})},uploadCancel:Object(m.c)({float:"right"})},Xe=function(e){function FileUploaderForm(t){var r;return(r=e.call(this,t)||this).state={uploadState:"ready",progress:0,isFocused:!1},r.handleCancel=function(){r.uploader.cancel(),r.onCancel(),r.reset()},r.onUploadComplete=function(e,t){var n=r.props.onUploadComplete;n&&n(e,t)},r.onResult=function(e,t){var n=r.props.onUploadResult;n&&n(e,t)},r.onSuccess=function(e){if(e.ok&&!We()(e.results)){var t=r.props.onUploadSuccess;r.setState((function(){return{uploadState:"uploaded",progress:100}})),t?Fe.a.fcall(t,e).then(r.reset).done():r.reset()}else r.onError(new Error("Unknown upload error"))},r.onError=function(e){var t=r.props.onUploadError;"uploading"===r.state.uploadState&&r.uploader.cancel(),r.setState((function(){return{uploadState:"error",progress:0}})),t&&t(e),r.reset()},r.onSelect=function(){var e=r.props.onUploadSelect;r.setState((function(){return{uploadState:"uploading",progress:0}})),e&&e()},r.onStart=function(){var e=r.props.onUploadStart;e&&e()},r.onProgress=function(e){var t=r.props.onUploadProgress,n=e.bytes_received,o=e.bytes_expected,a=0===o?0:100*n/o;r.setState((function(){return{progress:a}})),t&&t(a)},r.onCancel=function(){var e=r.props.onUploadCancel;e&&e()},r.onFocus=function(){var e=r.props.onFocus;r.setState((function(){return{isFocused:!0}})),e&&e.apply(void 0,arguments)},r.onBlur=function(){var e=r.props.onBlur;r.setState((function(){return{isFocused:!1}})),e&&e.apply(void 0,arguments)},r.reset=function(){var e=r.props.onReset;r.removeUploader(),e()},r.uploader=null,r.uploaderRef=null,r.uniqueId=He()(),r}N()(FileUploaderForm,e);var t=FileUploaderForm.prototype;return t.componentDidMount=function(){this.createUploader()},t.componentWillUnmount=function(){this.removeUploader()},t.createUploader=function(){var e=this.props,t=e.templateId,r=e.fields,n={params:{auth:{key:qe.transloaditKey},template_id:t,fields:r}};this.uploader=Object(Ve.a)(this.uploaderRef,n),this.uploader.on("select",this.onSelect),this.uploader.on("start",this.onStart),this.uploader.on("progress",this.onProgress),this.uploader.on("upload-complete",this.onUploadComplete),this.uploader.on("result",this.onResult),this.uploader.on("success",this.onSuccess),this.uploader.on("error",this.onError),this.uploader.on("cancel",this.onCancel)},t.removeUploader=function(){this.uploader&&(this.uploader.reset(),this.uploader.off("select",this.onSelect),this.uploader.off("start",this.onStart),this.uploader.off("progress",this.onProgress),this.uploader.off("upload-complete",this.onUploadComplete),this.uploader.off("result",this.onResult),this.uploader.off("success",this.onSuccess),this.uploader.off("error",this.onError),this.uploader.off("cancel",this.onCancel),this.uploader=null)},t.renderUploadingState=function(){var e=this.props.showCancelLink,t=this.state,r=t.uploadState,n=t.progress;if("uploading"===r){var o=n||0,a={width:Math.min(Math.max(o,5),95).toFixed(2)+"%"};return Object(m.d)("div",{className:"uploaded"},Object(m.d)("div",{className:"bt3-progress"},Object(m.d)(ze.a,{tagName:"span",role:"alert","aria-live":"polite"},Ke()("Uploading")),Object(m.d)("div",{className:"bt3-progress-bar",css:Qe.progressBar,style:a})),e&&Object(m.d)(b.a,{variant:"ghost",size:"small",onClick:this.handleCancel,css:Qe.uploadCancel},Ke()("Cancel")))}return null},t.renderUploadedState=function(){return"uploaded"===this.state.uploadState?Object(m.d)("div",{role:"alert",className:"uploaded"},Ke()("Uploaded")):null},t.render=function(){var e=this,t=this.props,r=t.hideFormWhileUploading,n=t.buttonClasses,o=t.accept,a=t.disabled,s=t.children,i=t.buttonContent,u=t.id,l=t.buttonCss,c=this.state,d=c.uploadState,p=c.isFocused,f=k()("rc-FileUploaderForm",{uploading:"uploading"===d}),g=k()(n,p?"focus":"",a?"disabled":""),h=k()({"bt3-hide":r&&"ready"!==d}),b="upload-file-input-".concat(this.uniqueId);return Object(m.d)("div",{className:f},Object(m.d)("form",{className:h,ref:function(t){e.uploaderRef=t}},Object(m.d)("input",{className:"custom-file-input",type:"file",name:"file",multiple:!1,css:Qe.input,accept:o,disabled:a,onFocus:this.onFocus,onBlur:this.onBlur,id:b}),Object(m.d)("label",{id:u||"upload-file-input-".concat(this.uniqueId,"-label"),htmlFor:b,className:g,css:[Qe.button,!!l&&l]},s||i)),this.renderUploadingState(),this.renderUploadedState())},FileUploaderForm}(o.Component);Xe.defaultProps={hideFormWhileUploading:!0,buttonClasses:[],accept:""};var Ze,components_FileUploader=function(e){var t=e.onReset,r=e.className,a=k()("rc-FileUploader",r),s=Object(o.useState)(1),i=n()(s,2),u=i[0],l=i[1];return Object(m.d)("div",{className:a},Object(m.d)(Xe,q()({key:u},e,{onReset:function(){l((function(e){return e+1})),null==t||t()}})))},components_Activity=function(e){var t=e.part,r=e.submissionSchemaPart,n=e.suggestedFilename,a=t.score,s=t.typeName,i=t.uploadedAt,u=t.submittedAt,l=r.maxScore,c="number"==typeof a,d=null;return"empty"!==s&&(d=i&&(!u||u<i)?G()("Not Submitted"):c?o.createElement("span",null,a,"/",l):G()("Submitted")),o.createElement("div",{className:"rc-Activity"},o.createElement("div",{className:"filename"},t.uploadedFilename||n),d)},components_PartName=function(e){return o.createElement("div",{className:"rc-PartName"},o.createElement("strong",null,e.submissionSchemaPart.title))},components_Points=function(e){var t=e.part.score,r=e.submissionSchemaPart.maxScore;return"number"==typeof t?null:o.createElement("div",{className:"rc-Points align-right fit-to-content"},r," ",G()("points"))},$e=(t("VNWQ"),function(e){function Row(t){var r;return(r=e.call(this,t)||this).uploadButton=o.createRef(),r.onUploadSelect=function(){var e=r.props.onUploadSelect;e&&e(),r.setState({isUploading:!0})},r.onUploadSuccess=function(e){var t=r.props,n=t.itemMetadata,o=t.partId,a=t.postUploadPart,s=t.versionId,i=e.uploads[0];return a({assemblyId:e.assembly_id,courseId:n.get("course").get("id"),itemMetadata:n,itemId:n.get("id"),learnerId:f.a.get().id,partId:o,versionId:s,uploadedFilename:i&&i.name||"unknown"}).then(r.onPostUploadPartSuccess,r.onPostUploadPartError)},r.onUploadError=function(){var e=r.props.onUploadError;e&&e(),r.setState({isUploading:!1})},r.onPostUploadPartSuccess=function(){var e=r.props.onPostUploadPartSuccess;e&&e(),r.setState({isUploading:!1})},r.onPostUploadPartError=function(){r.setState({isUploading:!1})},r.onFileUploaderFocus=function(){r.setState({isFocused:!0})},r.onFileUploaderBlur=function(){r.setState({isFocused:!1})},r._isHoveredOnMouseEnter=function(){r.setState({isHovered:!0})},r._isHoveredOnMouseLeave=function(){r.setState({isHovered:!1})},r.renderUploadIndicator=function(){return"empty"!==r.props.part.typeName?o.createElement("span",null,G()("Replace file")):Ze||(Ze=o.createElement("i",{className:"cif-upload"}))},r.state={isFocused:!1,isHovered:!1,isUploading:!1},r}N()(Row,e);var t=Row.prototype;return t.componentDidMount=function(){var e=_e.a.findDOMNode(this),t=document.querySelector('input[type="file"]'),r=document.querySelector("#submission-container");e&&(e.addEventListener("mouseenter",this._isHoveredOnMouseEnter,!1),e.addEventListener("mouseleave",this._isHoveredOnMouseLeave,!1)),t&&r&&t.addEventListener("change",(function(){r.focus()}))},t.componentWillUnmount=function(){var e=_e.a.findDOMNode(this);e&&(e.removeEventListener("mouseenter",this._isHoveredOnMouseEnter,!1),e.removeEventListener("mouseleave",this._isHoveredOnMouseLeave,!1))},t.render=function(){var e=this.props,t=e.itemMetadata,r=e.inputDisabled,n=e.part,a=e.partId,s=e.submissionSchemaPart,i=e.suggestedFilename,u=this.state,l=u.isHovered,c=u.isUploading,d=l&&!r,m=u.isFocused&&!r,p=k()("rc-Row",{hovered:l,disabled:c||r}),f=k()("upload-indicator",{hover:d,focus:m});return o.createElement(components_FileUploader,{className:p,templateId:Re.d.upload.transloadit.templates.programming,fields:{phoenix_course_id:t.get("course").get("id"),part_id:a,file_name:i},hideFormWhileUploading:!1,onUploadSelect:this.onUploadSelect,onUploadSuccess:this.onUploadSuccess,onUploadError:this.onUploadError,onFocus:this.onFileUploaderFocus,onBlur:this.onFileUploaderBlur,disabled:!1},o.createElement("div",{id:"submission-container",tabIndex:0},o.createElement("div",{className:"horizontal-box"},o.createElement("div",{className:"flex-1"},o.createElement(components_PartName,{submissionSchemaPart:s})),o.createElement("span",{className:f},this.renderUploadIndicator())),o.createElement("div",{className:"horizontal-box"},o.createElement("div",{className:"flex-1"},o.createElement(components_Points,{part:n,submissionSchemaPart:s})),o.createElement(components_Activity,{part:n,submissionSchemaPart:s,suggestedFilename:i}))))},Row}(o.Component)),components_GridSubmissionUploadTable=function(e){var t=e.filesWorkspace,r=e.inputDisabled,n=e.itemMetadata,a=e.learnerAssignment,s=e.onPostUploadPartSuccess,i=e.onUploadError,u=e.onUploadSelect,l=e.postUploadPart,c=t&&x()(t.get("parts")).chain().map((function(e,t){return{id:t,filePart:e,schemaPart:null==a?void 0:a.submissionLearnerSchema.get("parts")[t],suggestedFilename:null==a?void 0:a.submissionBuilderSchema.getSuggestedFilename(t),typeName:""}})).sortBy((function(e){return(e.schemaPart||{}).order})).value(),d=Object.values(c||{}).some((function(e){return"uploaded"===e.typeName}));return c?o.createElement("div",{className:"rc-GridSubmissionUploadTable"},o.createElement("div",null,d&&o.createElement("div",{className:"unsubmitted-files-alert bt3-alert bt3-alert-warning"},G()("You have unsubmitted files.")),o.createElement("div",null,c.map((function(e){return o.createElement($e,{key:e.id,itemMetadata:n,inputDisabled:r,onUploadSelect:u,onPostUploadPartSuccess:s,onUploadError:i,part:e.filePart,partId:e.id,postUploadPart:l,submissionSchemaPart:e.schemaPart,suggestedFilename:e.suggestedFilename,versionId:t&&t.get("versionId")})}))))):o.createElement("div",{className:"rc-GridSubmissionUploadTable"},o.createElement("div",{className:"loading-area"},o.createElement("span",null,G()("Loading"),"...")))},et=(t("Kty6"),function(e){function GridSubmission(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={agreementComplete:!1,currentUploadCount:0,fullName:"",isVerifying:!1,submitError:"",verifiableId:""},t.onSubmitHonorCodeAgreement=function(){var e=t.state.fullName;return Object(De.a)().then((function(r){t.setState({verifiableId:r}),Object(De.b)(r,e).then((function(e){t.submit(e.get("id")),t.setState({isVerifying:!1,agreementComplete:!1})}))}))},t.onHonorCodeAgreementComplete=function(e){t.setState({agreementComplete:!0,fullName:e})},t.onHonorCodeAgreementIncomplete=function(){t.setState({agreementComplete:!1})},t.onVerificationComplete=function(){t.setState({isVerifying:!1});var e=t.state.verifiableId;t.submit(e)},t.onSubmitSuccess=function(){var e=t.props.onSubmit;e&&e()},t.onSubmitError=function(e){var r;t.setState({submitError:(null==e?void 0:null===(r=e.responseJSON)||void 0===r?void 0:r.errorCode)||G()("Unknown submission error. Please try again.")})},t.onUploadSelect=function(){t.setState((function(e){return{currentUploadCount:e.currentUploadCount+1,submitError:""}}))},t.onPostUploadPartSuccess=function(){t.setState((function(e){return{currentUploadCount:e.currentUploadCount-1}}))},t.onUploadError=function(){t.setState((function(e){return{currentUploadCount:e.currentUploadCount-1}}))},t.onVerificationModalClose=function(){t.setState({isVerifying:!1})},t.submit=function(e){var r=t.props.submit;e&&t.setState({verifiableId:e}),r&&r(e).then(t.onSubmitSuccess).catch(t.onSubmitError).done()},t.verifyToSubmit=function(){var e=t.props.isVerifiable,r=t.state.verifiableId;e&&!r?t.setState({isVerifying:!0}):t.submit()},t}return N()(GridSubmission,e),GridSubmission.prototype.render=function(){var e=this.props,t=e.filesWorkspace,r=e.itemMetadata,n=e.inputDisabled,a=e.learnerAssignment,s=e.postUploadPart,i=this.state,u=i.agreementComplete,l=i.currentUploadCount,c=i.isVerifying,d=i.submitError,m=t&&t.get("parts"),p=m&&Object.values(m),f=!(p&&p.some((function(e){return"uploaded"===e.typeName})))||l>0||n||d.length>0;return o.createElement("div",{className:"rc-GridSubmission"},o.createElement(h.a,{variant:"body1"},G()("To upload a file, click the part below. Then, submit the files. You\n               can submit as many times as you like. You do not need to upload all\n               parts in order to submit.")),o.createElement("div",{className:"submission-area"},o.createElement(components_GridSubmissionUploadTable,{itemMetadata:r,filesWorkspace:t,learnerAssignment:a,inputDisabled:n,onUploadSelect:this.onUploadSelect,onPostUploadPartSuccess:this.onPostUploadPartSuccess,onUploadError:this.onUploadError,postUploadPart:s}),d&&o.createElement("div",{className:"submit-error hide"},d),o.createElement("button",{type:"button",className:"submit-button primary fullbleed",onClick:this.verifyToSubmit,disabled:Boolean(f)},G()("Submit"))),c&&o.createElement(Ge.a,{className:"honor-code-modal",modalName:"Programming Assignment Submission",handleClose:this.onVerificationModalClose},o.createElement("h2",{className:"head-2-text"},G()("Honor Code")),o.createElement(je.a,{onAgreementComplete:this.onHonorCodeAgreementComplete,onAgreementIncomplete:this.onHonorCodeAgreementIncomplete,isShownInsideModal:!0}),o.createElement("div",{className:"align-right"},o.createElement("button",{type:"button",className:"agreement-continue-button primary",disabled:!u,onClick:this.onSubmitHonorCodeAgreement},G()("Continue")))))},GridSubmission}(o.Component));et.contextTypes={fluxibleContext:ae.a.object.isRequired};var tt,rt,nt,ot,at,st,it,ut=Object(i.a)(["CourseStore","SessionStore"],(function(e){var t=e.CourseStore,r=e.SessionStore;return{courseId:t.getCourseId(),sessionId:r.getSessionId()}}))(et),lt=t("uHi3"),ct=t("Kfxi"),data_filesWorkspace=function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug;return new P.a({itemId:t,courseId:r,courseSlug:n}).getWithUserCourseItemId("onDemandProgrammingFilesWorkspaces.v1",{fields:["parts","versionId"]}).then((function(e){return e.elements[0]}))},dt=Ne.a.Model.extend({defaults:{parts:null,versionId:null}}),mt=t("oLNK"),pt=t("uMx8"),ft=t("FOc5"),gt=t("eJW0"),ht=t.n(gt),views_InProgressAlert=function(){return o.createElement("div",{className:"bt3-alert bt3-alert-warning",role:"alert"},o.createElement("div",{className:"title"},ht()("Your submission is being graded.")),o.createElement("div",{className:"message"},ht()("\n        When your grade is ready, this page will automatically refresh and\n        your submission will appear below.\n      ")))},bt=t("6/Gu"),EmptyState_styles_container=function(e){return Object(m.c)(tt||(tt=d()(["\n    margin-top: ",";\n  "])),e.spacing(32))},EmptyState_styles_iconContainer=function(e){return Object(m.c)(rt||(rt=d()(["\n    margin-bottom: ",";\n  "])),e.spacing(8))},components_EmptyState=function(e){var t=e.icon,r=e.children,n=Object(g.a)();return Object(m.d)(bt.a,{css:EmptyState_styles_container(n),container:!0,direction:"column",alignItems:"center"},Object(m.d)("div",{css:EmptyState_styles_iconContainer(n)},t),Object(m.d)(h.a,{variant:"body1"},r))},vt=(t("6ldC"),function(e){return Object(m.c)(nt||(nt=d()(["\n    margin-top: ",";\n    margin-bottom: ",";\n    max-width: 360px;\n  "])),e.spacing(12),e.spacing(48))}),GridSubmissions_GridSubmissions=function(e){var t,r=Object(o.useState)({filesWorkspace:null,filesWorkspaceError:"",inputDisabled:!1,isUploaderOpen:!1,postUploadPartError:"",submissionHistory:null,submissionHistoryError:"",submitError:""}),a=n()(r,2),s=a[0],i=a[1],u=e.itemMetadata,c=e.learnerAssignment,d=e.session,E=e.showDebugTools,S=e.verificationDisplay,I=e.computedItem,C=Object(ct.c)(),P=C.attemptSummary,F=C.refetchAttemptSummary,k=Object(g.a)(),O=s.filesWorkspace,N=s.filesWorkspaceError,M=s.inputDisabled,x=s.isUploaderOpen,T=s.postUploadPartError,U=s.submissionHistory,j=s.submissionHistoryError,D=s.submitError,setState=function(e){i((function(t){return l()(l()({},t),e)}))},L=Object(o.useCallback)((function(){if("files"!==(null==c?void 0:c.submissionBuilderSchema.get("typeName")))return Promise.resolve();var e=u.get("course").get("id"),t=u.get("course").get("slug"),r=u.get("id");return Promise.resolve(function(e){var t=e.itemId,r=e.courseId,n=e.courseSlug;return f.a.isAuthenticatedUser()?data_filesWorkspace({itemId:t,courseId:r,courseSlug:n}).then((function(e){return new dt(e)})):Fe()({})}({itemId:r,courseId:e,courseSlug:t})).then((function(e){setState({filesWorkspace:e,filesWorkspaceError:""})}),(function(e){setState({filesWorkspaceError:"Failed to load file upload parts: "+(e&&e.responseText?e.responseText:"")})}))}),[u,c]),R=Object(o.useCallback)((function(){F(),mt.a.load({itemMetadata:u,userId:f.a.get().id,courseId:u.get("course").get("id"),courseSlug:u.get("course").get("slug"),itemId:u.get("id"),itemTypeName:u.getContent().typeName})}),[u,F]);Object(o.useEffect)((function(){var onLoadSubmissionHistoryError=function(e){setState({submissionHistoryError:G()("There was an error loading your submission history. #{responseText}",{responseText:(null==e?void 0:e.responseText)||""})})},onLoadSubmissionHistorySuccess=function(e){setState({submissionHistory:e,submissionHistoryError:""})},refresh=function(){L().catch((function(e){throw e})),R()};mt.a.on("updateError",onLoadSubmissionHistoryError),mt.a.on("update",onLoadSubmissionHistorySuccess),refresh();var e=window.setInterval(refresh,15e3);return function(){mt.a.removeListener("updateError",onLoadSubmissionHistoryError),mt.a.removeListener("update",onLoadSubmissionHistorySuccess),e&&window.clearInterval(e)}}),[L,R]);var A=(U||[]).filter((function(e){return"started"===e.get("gradingStatus")})),W="files"===(null==c?void 0:c.submissionBuilderSchema.get("typeName")),J="gradedProgramming"===u.getTypeName(),H=Object(pt.b)(u.get("course.id"),u.get("id")),V=u.isPremiumGradingLocked(),z=J&&S.shouldPromptForVerification();return Object(m.d)("div",{className:"rc-GridSubmissions grid-submissions"},A.length>0&&(ot||(ot=Object(m.d)(views_InProgressAlert,null))),Object(m.d)(h.a,{variant:"body1"},N&&Object(m.d)("div",{className:"error"},N),T&&Object(m.d)("div",{className:"error hide"},T),D&&Object(m.d)("div",{className:"error hide"},D)),at||(at=Object(m.d)(lt.a,null)),W&&!H&&Object(m.d)("div",{className:"bt3-row"},Object(m.d)("div",{className:"bt3-col-md-12"},V?Object(m.d)(w.a,{courseId:u.get("course.id"),addExtraPadding:!0}):!x&&Object(m.d)(b.a,{variant:"primary",disabled:!Object(ft.f)(P),onClick:function(){setState({isUploaderOpen:!0})},size:"small",icon:st||(st=Object(m.d)(v.a,{size:"small"})),"data-e2e":"create-submission-button"},G()("Create submission")),x&&Object(m.d)(b.a,{variant:"secondary",className:"cancel-button",onClick:function(){setState({isUploaderOpen:!1})},size:"small",icon:it||(it=Object(m.d)(y.a,{size:"small"})),"data-e2e":"cancel-button"},G()("Cancel")))),x&&Object(m.d)("div",{css:vt(k),className:"submitter-area"},Object(m.d)("div",{className:"submitter-content"},Object(m.d)(h.a,{variant:"h3semibold","data-e2e":"submitter-area-title"},G()("Upload Files and Submit")),Object(m.d)(ut,{filesWorkspace:O,inputDisabled:M,itemMetadata:u,isVerifiable:z,learnerAssignment:c,onSubmit:function(){setState({isUploaderOpen:!1})},postUploadPart:function(e){var t=e.learnerId,r=e.userId,n=e.partId,o=e.versionId,a=e.uploadedFilename,s=e.assemblyId,i=u.get("id"),l=u.get("course").get("id"),c=u.get("course").get("slug");return filesWorkspaceParts_create$0({itemId:i,courseId:l,courseSlug:c,learnerId:t,userId:r,partId:n,versionId:o,uploadedFilename:a,assemblyId:s}).then(L,(function(e){setState({postUploadPartError:"Error creating upload part: "+(e&&e.responseText?e.responseText:"")})})).catch((function(e){setState({postUploadPartError:e.stack?e.stack:e})}))},submit:function(e){setState({inputDisabled:!0});var t=u.get("id"),r=u.getContent().typeName,n=u.get("course").get("id"),o=u.get("course").get("slug"),a=O.get("versionId");return filesSubmissions_submit$0({itemId:t,itemTypeName:r,courseId:n,courseSlug:o,versionId:a,verifiableId:e}).then((function(){var enable=function(){setState({inputDisabled:!1})};return setState({submitError:""}),L().then(R).then(enable,enable)})).catch((function(e){var t;setState({inputDisabled:!1,submitError:"Error submitting: "+((null==e?void 0:null===(t=e.responseJSON)||void 0===t?void 0:t.errorCode)||"")})}))}}))),Object(m.d)("div",{className:"submissions-area"},j&&Object(m.d)("div",null,j),!j&&U&&0===U.length&&Object(m.d)(components_EmptyState,{icon:Object(m.d)(basic_DecorativeImage,{src:p.a.url.assets+"images/icons/submission-placeholder.png",width:80,height:80})},Object(m.d)("span",null,G()("Your graded submissions will appear here."))),!j&&U&&U.length>0&&Object(m.d)(components_GradeHistory,{courseId:u.get("course").get("id"),courseSlug:u.get("course").get("slug"),itemId:u.get("id"),itemMetadata:u,showDebugTools:E,submissions:U,verificationDisplay:S,computedItem:I,debugInfo:{branchId:d&&d.branchId,courseId:u.get("course").get("id"),userId:null===(t=f.a.get().id)||void 0===t?void 0:t.toString()}})))},yt=Object(C.b)((function(e){var t=e.itemMetadata,r=t.get("course").get("id"),n=t.get("id");return Object(m.d)(ct.b,{courseId:r,itemId:n},Object(m.d)(GridSubmissions_GridSubmissions,e))})),Et=t("jYVy"),St=t("6O2X");t.d(e,"ProgrammingSubmission",(function(){return ProgrammingSubmission_ProgrammingSubmission}));var ProgrammingSubmission_ProgrammingSubmission=function(e){var t=e.itemMetadata,r=e.hasTeachingRole,a=e.session,i=e.verificationDisplay,u=t.get("course.id"),l=t.get("id"),c=!Object(pt.b)(u,l)&&St.a.hasAdminPrivileges(r),d=o.useState(null),m=n()(d,2),p=m[0],f=m[1];return o.useEffect((function(){var e=Object(s.cancelable)(Object(Et.c)({courseId:t.get("course.id"),itemId:t.get("id")}));return e.then((function(e){f(e)})),function(){e.cancel()}}),[t]),p?o.createElement(yt,{itemMetadata:t,learnerAssignment:p,session:a,showDebugTools:c,verificationDisplay:i}):null};e.default=Object(i.a)(["VerificationStore","CourseMembershipStore","SessionStore"],(function(e){var t=e.VerificationStore,r=e.CourseMembershipStore,n=e.SessionStore;return{verificationDisplay:t.getVerificationDisplay(),hasTeachingRole:r.hasTeachingRole(),session:n.getSession()}}))(ProgrammingSubmission_ProgrammingSubmission)},nk72:function(module,e,t){"use strict";var r={fromJson:function(e,t,r){var n=e.typeName,o=t[n]||r;if(!o)throw new Error('\n        Unable to parse typed data: "'.concat(JSON.stringify(e),'". No type class found for key: "').concat(n,'"\n      '));return new o(e.definition,e)}};e.a=r},uHi3:function(module,e,t){"use strict";var r,n=t("q1tI"),o=t("VkAN"),a=t.n(o),s=t("AeFk"),i=t("wd/R"),u=t.n(i),l=t("kvW3"),c=t("6/Gu"),d=t("8Hdl"),m=t("BBzL"),p=t.n(m),f={container:function(e){return Object(s.c)(r||(r=a()(["\n    "," {\n      margin-bottom: "," !important;\n    }\n\n    "," {\n      margin-bottom: "," !important;\n    }\n  "])),e.breakpoints.up("md"),e.spacing(16),e.breakpoints.down("sm"),e.spacing(24))}},LockStatus_LockStatusAttemptRateLimit=function(e){var t=e.submissionsIntervalDuration,r=e.submissionsPerInterval,n=e.nextPossibleSubmissionTime,o=e.remainingSubmissionsNow,a=e.showLabel,i=void 0===a||a,m=u.a.duration(t).humanize().replace(/^a |^an /,"");return Object(s.d)(c.a,{container:!0,css:f.container,spacing:8},i&&Object(s.d)(c.a,{item:!0,xs:12,sm:"auto"},Object(s.d)(d.a,{variant:"h3bold"},p()("Retakes"))),Object(s.d)(c.a,{item:!0},r&&Object(s.d)(d.a,{variant:"body1","data-e2e":"submissions-label"},Object(s.d)(l.b,{message:p()("You can submit this assignment {allowedN} {allowedN, plural, =1 {time} other {times}} every {duration}."),allowedN:r,duration:m})),Object(s.d)(d.a,{variant:"body1","data-e2e":"submissions-left"},o>0?Object(s.d)(l.b,{message:p()("You have {numberOfRemainingSubmissions} {numberOfRemainingSubmissions, plural, =1 {submission} other {submissions}} left."),numberOfRemainingSubmissions:o}):Object(s.d)(l.b,{message:p()("You have used all {numberOfAllowedSubmissions} {numberOfAllowedSubmissions, plural, =1 {submission} other {submissions}}.\n                  You can submit again {nextPossibleSubmissionTimeRelativeFromNow}."),numberOfAllowedSubmissions:r,nextPossibleSubmissionTimeRelativeFromNow:u()(parseInt(n,10)).fromNow()}))))},LockStatus_LockStatusSubmissionLimit=function(e){var t=e.remainingSubmissions,r=e.allowedSubmissions,n=e.showLabel,o=void 0===n||n;return Object(s.d)(c.a,{container:!0,css:f.container,spacing:8},o&&Object(s.d)(c.a,{item:!0,xs:12,sm:"auto"},Object(s.d)(d.a,{variant:"h3bold"},p()("Retakes"))),Object(s.d)(c.a,{item:!0},t>0?Object(s.d)(d.a,{variant:"body1","data-e2e":"submissions-left"},Object(s.d)(l.b,{message:p()("You have {numberOfRemainingSubmissions} {numberOfRemainingSubmissions, plural, =1 {submission} other {submissions}} left."),numberOfRemainingSubmissions:t})):Object(s.d)(d.a,{variant:"body1","data-e2e":"submissions-left"},Object(s.d)(l.b,{message:p()("You have used all {numberOfAllowedSubmissions} {numberOfAllowedSubmissions, plural, =1 {submission} other {submissions}}."),numberOfAllowedSubmissions:r}))))},g=t("Kfxi"),h=t("FOc5");e.a=function(e){var t=e.showLabel,r=void 0===t||t,o=Object(g.c)().attemptSummary;if(o){if(Object(h.a)(o))return n.createElement(LockStatus_LockStatusAttemptRateLimit,{submissionsIntervalDuration:o.submissionsIntervalDuration,submissionsPerInterval:o.submissionsPerInterval,remainingSubmissionsNow:o.remainingSubmissionsNow,nextPossibleSubmissionTime:o.nextPossibleSubmissionTime,showLabel:r});if(Object(h.b)(o))return n.createElement(LockStatus_LockStatusSubmissionLimit,{remainingSubmissions:o.remainingSubmissions,allowedSubmissions:o.allowedSubmissions,showLabel:r})}return null}},uMx8:function(module,e,t){"use strict";t.d(e,"a",(function(){return getSleuthConfig})),t.d(e,"b",(function(){return isSleuthAssignment}));var r=t("3tO9"),n=t.n(r),o=t("UDqv"),a={templateId:"IIknfCCpTv2JJ3wgqU79KA"},getSleuthConfig=function(e,t){var r=(o.a.get("sleuthAssignments")||[]).find((function(r){return r.courseId===e&&r.itemId===t}));return r?n()(n()({},a),r):null},isSleuthAssignment=function(e,t){return!!getSleuthConfig(e,t)}},zF0X:function(module,exports,e){}}]);
//# sourceMappingURL=53.21bb4cb2f204071279ea.js.map